/* ── print.css ────────────────────────────────────────────────────────────────
   Applied only when printing / saving as PDF.
   Place in src/lib/styles/print.css and import in +page.svelte:
     import '$lib/styles/print.css';
   ──────────────────────────────────────────────────────────────────────────── */

@media print {

  /* ── Page setup ─────────────────────────────────────────────────────────── */
  @page {
    size: A4;
    margin: 20mm 18mm;
  }

  /* ── Hide non-content elements ───────────────────────────────────────────── */
  /* Navigation, download button, video iframes — none of these belong in print */
  nav,
  .download-btn,
  .video-wrap,
  iframe {
    display: none !important;
  }

  /* ── Base ────────────────────────────────────────────────────────────────── */
  body {
    background: var(--white);
    color: var(--black);
    font-size: 11pt;
    line-height: 1.6;
  }

  article {
    max-width: 100%;
    margin: 0;
    padding: 0;
  }

  /* ── Images: centre and constrain so they don't overflow the page ────────── */
  img {
    display: block;
    max-width: 80%;
    max-height: 180mm;   /* prevents a single image consuming an entire page */
    margin: 6mm auto;
    object-fit: contain;
  }

  /* ── Headings: avoid orphaned headings at the bottom of a page ───────────── */
  h1, h2, h3 {
    break-after: avoid;
    page-break-after: avoid;
  }

  /* ── Tables: keep rows together where possible ───────────────────────────── */
  table {
    break-inside: avoid;
    page-break-inside: avoid;
    width: 100%;
    border-collapse: collapse;
    font-size: 9pt;
  }

  th, td {
    border: var(--hairline) solid var(--silver);
    padding: 3mm 4mm;
    vertical-align: top;
  }

  thead {
    background: var(--snow-white);
    -webkit-print-color-adjust: exact; /* preserve header shading in Chrome/Safari */
    print-color-adjust: exact;
  }

  /* ── Colour swatches ─────────────────────────────────────────────────────── */
  /* The swatch strips are decorative; force-print the background colours */
  .swatch,
  .color-swatch {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* The swatch strip can stay but doesn't need a page break */
  .swatch-strip {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* ── Pre / monospace blocks ──────────────────────────────────────────────── */
  pre {
    font-size: 8pt;
    white-space: pre;
    overflow: hidden;
    break-inside: avoid;
    page-break-inside: avoid;
    border: var(--hairline) solid var(--light-gray);
    padding: 3mm;
    background: var(--snow-white);
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* ── Blockquotes ─────────────────────────────────────────────────────────── */
  blockquote {
    border-left: var(--outline) solid var(--light-gray);
    margin-left: 8mm;
    padding-left: 4mm;
    font-style: italic;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* ── Links: print the URL so citations aren't lost ──────────────────────── */
  a[href]::after {
    content: ' (' attr(href) ')';
    font-size: 8pt;
    color: var(--dark-gray);
  }

  /* ── HR ──────────────────────────────────────────────────────────────────── */
  hr {
    border: none;
    border-top: var(--hairline) solid var(--silver);
    margin: 6mm 0;
  }
}